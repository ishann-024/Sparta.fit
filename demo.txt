<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Job Requests</title>

    
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    />
</head>
<body>
    <div class="applications-container">
    <section class="applications-header">
        <div class="header-content">
            <h1 class="page-title">Job Requests</h1>
            <p class="page-subtitle">Create and manage resource requests for your projects</p>
            <div class="applications-stats">
                <div class="stat-item stats-total">
                    <div class="stat-number">{{allJobRequestCount}}</div>
                    <div class="stat-label">Total Job Requests</div>
                </div>
                <div class="stat-item stats-approved">
                    <div class="stat-number">{{approvedJobRequestsCount}}</div>
                    <div class="stat-label">Approved</div>
                </div>
                <div class="stat-item stats-declined">
                    <div class="stat-number">{{declinedJobRequestsCount}}</div>
                    <div class="stat-label">Declined</div>
                </div>
                <div class="stat-item stats-pending">
                    <div class="stat-number">{{pendingJobRequest}}</div>
                    <div class="stat-label">Pending</div>
                </div>
            </div>
        </div>
    </section>

    
    <section class="page-header">
        <br>
        <button class="btn-primary" (click)="createNewRequest()">
            <i class="fas fa-plus"></i> Create New Request
        </button>
    </section>

    
    <section class="cards-grid">
        
        <div class="card">
            <div class="card-header">
                <div>
                    <div class="card-title">React Developer Required</div>
                    <div class="card-subtitle">JR001 • E-commerce Platform</div>
                </div>
                <span class="status-badge status-approved">Approved</span>
            </div>
            <div class="card-content">
                <div class="info-row">
                    <span class="info-label">Project:</span>
                    <span class="info-value">E-commerce Platform</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Required Skills:</span>
                    <span class="info-value">React, Node.js, MongoDB</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Experience:</span>
                    <span class="info-value">3+ years</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Quantity:</span>
                    <span class="info-value">2 Developers</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Status:</span>
                    <span class="info-value">Posted on Job Portal</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Applications:</span>
                    <span class="info-value">15 candidates applied</span>
                </div>
            </div>
            <div class="card-actions">
                <button class="btn-sm btn-primary">
                    <i class="fas fa-users"></i> View Candidates
                </button>
                <button class="btn-sm btn-edit">
                    <i class="fas fa-edit"></i> Edit Request
                </button>
            </div>
        </div>
       
        <br>
       
        <div class="card">
            <div class="card-header">
                <div>
                    <div class="card-title">UI/UX Designer</div>
                    <div class="card-subtitle">JR002 • E-commerce Platform</div>
                </div>
                <span class="status-badge status-pending">Pending Approval</span>
            </div>
            <div class="card-content">
                <div class="info-row">
                    <span class="info-label">Project:</span>
                    <span class="info-value">E-commerce Platform</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Required Skills:</span>
                    <span class="info-value">Figma, Adobe XD, Prototyping</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Experience:</span>
                    <span class="info-value">2+ years</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Quantity:</span>
                    <span class="info-value">1 Designer</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Submitted:</span>
                    <span class="info-value">Oct 20, 2024</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Urgency:</span>
                    <span class="info-value">Medium</span>
                </div>
            </div>
            <div class="card-actions">
                <button class="btn btn-warning btn-sm">
                    <i class="fas fa-clock"></i> Waiting for PM Approval
                </button>
                <button class="btn btn-edit">
                    <i class="fas fa-edit"></i> Edit Request
                </button>
            </div>
        </div>
    </section>
</div>
  </body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Job Requests</title>

    <!-- FontAwesome CDN for icons -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    />
</head>
<body>
    <div class="applications-container">
        <!-- Header Section -->
        <section class="applications-header">
            <div class="header-content">
                <h1 class="page-title">Job Requests</h1>
                <p class="page-subtitle">Create and manage resource requests for your projects</p>
                <div class="applications-stats">
                    <div class="stat-item stats-total">
                        <div class="stat-number">{{allJobRequestCount}}</div>
                        <div class="stat-label">Total Job Requests</div>
                    </div>
                    <div class="stat-item stats-approved">
                        <div class="stat-number">{{approvedJobRequestsCount}}</div>
                        <div class="stat-label">Approved</div>
                    </div>
                    <div class="stat-item stats-declined">
                        <div class="stat-number">{{declinedJobRequestsCount}}</div>
                        <div class="stat-label">Declined</div>
                    </div>
                    <div class="stat-item stats-pending">
                        <div class="stat-number">{{pendingJobRequest}}</div>
                        <div class="stat-label">Pending</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Create Job Request Button -->
        <section class="page-header">
            <br>
            <button class="btn-primary" (click)="createNewRequest()">
                <i class="fas fa-plus"></i> Create New Request
            </button>
        </section>

        <!-- Loading Spinner -->
        <div *ngIf="isLoading" class="loading-container">
            <i class="fas fa-spinner fa-spin"></i> Loading job requests...
        </div>

        <!-- Error Message -->
        <div *ngIf="errorMessage && !isLoading" class="error-message">
            <i class="fas fa-exclamation-circle"></i> {{errorMessage}}
        </div>

        <!-- No Job Requests Message -->
        <div *ngIf="!isLoading && jobRequests.length === 0 && !errorMessage" class="no-data-message">
            <i class="fas fa-inbox"></i>
            <p>No job requests found. Create your first request to get started!</p>
        </div>

        <!-- Job Requests Grid -->
        <section class="cards-grid" *ngIf="!isLoading && jobRequests.length > 0">
            <!-- Dynamic Job Request Cards -->
            <div class="card" *ngFor="let request of jobRequests">
                <div class="card-header">
                    <div>
                        <div class="card-title">{{request.title}}</div>
                        <div class="card-subtitle">
                            JR{{request.jobRequestId | number:'3.0-0'}} • Project ID: {{request.projectId}}
                        </div>
                    </div>
                    <span class="status-badge" [ngClass]="getStatusClass(request.status)">
                        {{getStatusLabel(request.status)}}
                    </span>
                </div>
                <div class="card-content">
                    <div class="info-row">
                        <span class="info-label">Description:</span>
                        <span class="info-value">{{request.description}}</span>
                    </div>
                    <div class="info-row" *ngIf="request.skills">
                        <span class="info-label">Required Skills:</span>
                        <span class="info-value">{{request.skills}}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Experience:</span>
                        <span class="info-value">
                            {{request.minExperience}} - {{request.maxExperience}} years
                        </span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Head Count:</span>
                        <span class="info-value">{{request.headCount}} Position(s)</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">CTC Range:</span>
                        <span class="info-value">
                            ₹{{request.minCtc | number:'1.0-0'}} - ₹{{request.maxCtc | number:'1.0-0'}}
                        </span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Priority:</span>
                        <span class="info-value" [ngClass]="getPriorityClass(request.priority)">
                            {{request.priority}}
                        </span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Created:</span>
                        <span class="info-value">{{request.createdAt}}</span>
                    </div>
                    <div class="info-row" *ngIf="request.updatedAt !== request.createdAt">
                        <span class="info-label">Updated:</span>
                        <span class="info-value">{{request.updatedAt}}</span>
                    </div>
                </div>
                <div class="card-actions">
                    <button class="btn-sm btn-primary"
                            *ngIf="request.status === 'APPROVED'"
                            (click)="viewCandidates(request.jobRequestId)">
                        <i class="fas fa-users"></i> View Candidates
                    </button>
                    <button class="btn-sm btn-warning"
                            *ngIf="request.status === 'SUBMITTED'"
                            disabled>
                        <i class="fas fa-clock"></i> Waiting for Approval
                    </button>
                    <button class="btn-sm btn-edit" (click)="editRequest(request.jobRequestId)">
                        <i class="fas fa-edit"></i> Edit Request
                    </button>
                </div>
            </div>
        </section>
    </div>
</body>
</html>
